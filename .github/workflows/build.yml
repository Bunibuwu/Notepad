    - name: Build with Nuitka
      run: |
        mkdir -p build
        
        # Generate include arguments for all UI files
        UI_FILES=$(find . -name "*.ui" -printf "--include-data-files=%f=%f ")
        
        # Common Nuitka arguments
        NUITKA_ARGS=""
        if [ "$RUNNER_OS" == "Windows" ]; then
          NUITKA_ARGS="--windows-console-mode=disable"
        fi
        
        python -m nuitka main.py \
          --standalone \
          --enable-plugin=pyside6 \
          --include-data-dir=Themes=Themes \
          $UI_FILES \
          --include-data-files=settings.json=settings.json \
          --include-package-data=qt_themes \
          --include-qt-plugins=sensible \
          --output-dir=build \
          --jobs=2 \
          --lto=yes \
          --output-filename=Notepad \
          $NUITKA_ARGS